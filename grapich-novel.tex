\documentclass[12pt]{article}

\usepackage[margin=1in]{geometry}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{xparse}

% ---------- Global script feel ----------
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt}
\raggedright

% ---------- Counters ----------
\newcounter{gnpage}
\newcounter{gnpanel}[gnpage]
\renewcommand{\thegnpage}{\arabic{gnpage}}
\renewcommand{\thegnpanel}{\arabic{gnpanel}}

% ---------- Tunable indents ----------
\newlength{\GNDialogueLeft}
\newlength{\GNDialogueRight}
\setlength{\GNDialogueLeft}{0.22\textwidth}
\setlength{\GNDialogueRight}{0.22\textwidth}

% ---------- Title block ----------
\NewDocumentCommand{\GNTitle}{ m m O{\today} }{%
  \thispagestyle{empty}
  \vspace*{0.18\textheight}
  {\Large\bfseries #1\par}
  \vspace{0.5em}
  {\large #2\par}
  \vspace{1em}
  {\itshape #3\par}
  \vfill
  \newpage
}

% ---------- Page ----------
% Usage: \begin{GNPage}[optional page subtitle] ... \end{GNPage}
\NewDocumentEnvironment{GNPage}{ O{} }{%
  \refstepcounter{gnpage}
  \setcounter{gnpanel}{0}
  \vspace{1em}
  {\bfseries PAGE \thegnpage%
    \IfValueT{#1}{ - #1}%
  }\par
  \vspace{0.5em}
}{%
  \vspace{1em}
}

% ---------- Scene / Environment ----------
\NewDocumentCommand{\Env}{ +m }{%
  {\bfseries\MakeUppercase{#1}}\par
}

% ---------- Panel ----------
% Starred version doesn't increment (useful for splash / non-numbered beats)
% Usage: \Panel[optional label]{description}
\NewDocumentCommand{\Panel}{ s O{} +m }{%
  \par\vspace{0.5em}
  \IfBooleanTF{#1}{%
    {\bfseries PANEL%
      \IfValueT{#2}{\ \textnormal{(\MakeUppercase{#2})}}%
    }\par
  }{%
    \refstepcounter{gnpanel}
    {\bfseries PANEL \thegnpanel%
      \IfValueT{#2}{\ \textnormal{(\MakeUppercase{#2})}}%
    }\par
  }%
  #3\par
}

% ---------- Action ----------
\NewDocumentCommand{\Action}{ +m }{%
  #1\par
}

% ---------- Caption / Narration ----------
\NewDocumentCommand{\Caption}{ +m }{%
  {\itshape CAPTION: #1}\par
}
\NewDocumentCommand{\Narration}{ +m }{%
  {\itshape NARRATION: #1}\par
}

% ---------- SFX ----------
\NewDocumentCommand{\SFX}{ +m }{%
  {\bfseries SFX: \MakeUppercase{#1}}\par
}

% ---------- Transition ----------
\NewDocumentCommand{\Transition}{ +m }{%
  \hfill{\bfseries \MakeUppercase{#1}}\par
}

% ---------- Note to self (won't look like a panel element) ----------
\NewDocumentCommand{\Note}{ +m }{%
  {\small\itshape [NOTE: #1]}\par
}

% ---------- Dialogue ----------
% Usage: \Dialogue[optional parenthetical]{CHARACTER}{line(s)}
\NewDocumentCommand{\Dialogue}{ O{} m +m }{%
  {\par\noindent\centering\textsc{#2}\par}
  \begin{list}{}{%
    \setlength{\leftmargin}{\GNDialogueLeft}%
    \setlength{\rightmargin}{\GNDialogueRight}%
    \setlength{\itemsep}{0pt}%
    \setlength{\parsep}{0pt}%
    \setlength{\topsep}{2pt}%
  }%
    \item
      \IfValueT{#1}{\emph{(#1)}\par}
      #3
  \end{list}%
}

% Optional quick beats
\NewDocumentCommand{\Beat}{}{%
  {\itshape (beat)}\par
}

\begin{document}

\GNTitle{Lembas}{noumena}[Draft â€” \today]

\begin{GNPage}[Chapter 1 - The Universe Has HR]
\Env{EXT. ALIEN RIVERBANK - NIGHT}

\Panel[WIDE ESTABLISHING]{A black river cuts through neon mushrooms. Distant mountains look like broken teeth under a fully starry sky.}

\Caption{Somewhere that definitely isn't regulated by The Cosmic Federation.}

\Action{EA's helmet reflects constellations like an accusation. AHURA pokes a glowing fungus with deep suspicion.}

\Dialogue[deadly serious]{EA}{We need to talk.}

\Dialogue[deadpan]{AHURA}{Communication? In this economy?}

\Panel{A shadow passes over them. Something huge. Wings.}

\SFX{WHOOOOM}

\Dialogue{EA}{That's not a cloud.}

\Transition{CUT TO:}

\end{GNPage}

\end{document}
